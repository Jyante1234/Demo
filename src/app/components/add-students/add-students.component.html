<div class="addStudentsDiv">
  <div class="example-container">
    <table mat-table [dataSource]="dataSource" matSort class="w-100 addStudentsTable">
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> First Name </th>
        <td mat-cell *matCellDef="let student; let i = index">
          <mat-form-field>
            <input class="text-capitalize" matInput type="text" [(ngModel)]="student.firstName" (blur)="updateStudents();" autocomplete="off">
            <button mat-button [disabled]="!(student.firstName)" matSuffix mat-icon-button aria-label="Clear" (click)="student.firstName=''" tabindex="-1">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Name </th>
        <td mat-cell *matCellDef="let student; let i = index">
          <mat-form-field>
            <input class="text-capitalize" matInput type="text" [(ngModel)]="student.lastName" (blur)="updateStudents();" autocomplete="off">
            <button mat-button [disabled]="!(student.lastName)" matSuffix mat-icon-button aria-label="Clear" (click)="student.lastName=''" tabindex="-1">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="userName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> User Name </th>
        <td mat-cell *matCellDef="let student; let i = index">
          <mat-form-field>
            <input class="text-lowercase" matInput type="text" [(ngModel)]="student.userName" (blur)="updateStudents();" autocomplete="off">
            <button mat-button [disabled]="!(student.userName)" matSuffix mat-icon-button aria-label="Clear" (click)="student.userName=''" tabindex="-1">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="password">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Password </th>
        <td mat-cell *matCellDef="let student; let i = index">
          <mat-form-field>
            <input matInput type="text" [(ngModel)]="student.password" (blur)="updateStudents();" autocomplete="off">
            <button mat-button [disabled]="!(student.password)" matSuffix mat-icon-button aria-label="Clear" (click)="student.password=''" tabindex="-1">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="avatar">
        <th mat-header-cell *matHeaderCellDef> Avatar </th>
        <td mat-cell *matCellDef="let student" class="position-relative">
          <img *ngIf="(student.avatar.length)" class="avatar" src="{{student.avatar}}" (click)="svAv = student.avatar; student.avatar = '';">
          <div *ngIf="!(student.avatar.length)" class="avatarDiv">
            <div class="closeAvatars">
              <mat-icon (click)="student.avatar = svAv">close</mat-icon>
            </div>
            <div class="avatarDivIn">
              <img class="avatar" *ngFor="let avatar of avatars" (click)="student.avatar = avatar" src="{{avatar}}">
            </div>
          </div>
        </td>
      </ng-container>
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> Delete </th>
        <td mat-cell *matCellDef="let student; let i = index"> <span (click)="deleteStudent(i)"><i class="fas fa-trash-alt"></i></span>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true" class="addStudentsTableHead"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay;" class="addStudentsTableBody"></tr>
    </table>
  </div>
  <mat-paginator [length]="dataSource.length" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 50, 100]"
    showFirstLastButtons></mat-paginator>
  <div class="col-12 addStudentsControlsDiv">
    <div class="row justify-content-between addStudentsControlsDivIn">
      <div>
        <button class="btn defaultButton addStudentsControl" (click)="openPopup('manageClasses')">Build Classes</button>
        <button class="btn defaultButton addStudentsControl">Upload Students</button>
        <button class="btn defaultButton addStudentsControl" (click)="addStudentRow()">Add Row</button>
      </div>
      <div>
        <button class="btn defaultButton addStudentsControl" (click)="saveStudents()">Save</button>
        <button class="btn defaultButton addStudentsControl" (click)="saveCloseStudents()">Save &amp; Close</button>
      </div>
    </div>
  </div>
</div>